<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Z-Map Veto</title>
  <link rel="icon" type="image/x-icon" href="/img/favicon.ico" />
  <link rel="stylesheet" href="public/css/veto.css" />
</head>

<body>
  <div id="bestOfModal" class="bestof-modal" style="display:none;">
    <div class="bestof-content">
      <label for="bestOfInput">Best of (1-9):</label>
      <input type="number" id="bestOfInput" min="1" max="9" />
      <button id="confirmBestOfButton">Confirm</button>

      <!-- Mode dropdown moved here -->
      <label for="modeDropdown">Mode:</label>
      <select id="modeDropdown">
        <option value="1v1" selected>1v1</option>
        <option value="2v2">2v2</option>
        <option value="3v3">3v3</option>
        <option value="4v4">4v4</option>
      </select>
    </div>
  </div>

  <div class="main-wrapper">
    <div class="container">
      <a href="index.html" id="backButton" class="back-button">
        <img src="./img/SVG/back.svg" alt="Back" />
      </a>

      <div class="map-list" id="map-list">
        <ul class="map-list"></ul>
        <!-- Empty list to be populated by JS -->
      </div>
      <div class="mobile-action-buttons">
        <button id="resetButtonMobile">Reset All</button>
        <button id="undoButtonMobile">Undo</button>
      </div>

      <div class="map-preview">
        <img id="previewImage" src="img/maps/current/incorporeal.webp" alt="Map Preview" />
      </div>
    </div>

    <div id="advanced-view" class="advanced-view hidden">
      <div class="player-column" id="player1-column">
        <h3>Player 1</h3>
        <ul id="player1-list" class="player-list"></ul>
      </div>
      <div class="center-column">
        <h2 id="stageIndicator" class="stage-indicator"></h2>
        <p id="bestOfIndicator" class="best-of-indicator"></p>
        <ul id="advanced-map-list" class="advanced-map-list"></ul>
        <div class="invisible-placeholder" style="width: 300px; height: 300px; opacity: 0; pointer-events: none;"></div>
      </div>
      <div class="player-column" id="player2-column">
        <h3>Player 2</h3>
        <ul id="player2-list" class="player-list"></ul>
      </div>
    </div>
    <div id="picked-maps" class="picked-maps"></div>

    <!-- Control Area -->
    <div class="control-container">
      <div class="control-left">
        <h5>
          Map Settings
          <button id="toggleVisibilityButton" class="toggle-button">
            Show
          </button>
        </h5>

        <!-- Heading for Map Settings -->
        <div class="button-container">
          <button id="prevMapButton">Previous</button>
          <div class="option-display">
            <p id="selectedMapText">Selected Map: Map 1</p>
            <!-- Display the selected option -->
          </div>
          <button id="nextMapButton">Next</button>
        </div>

        <!-- Button for changing map name -->
        <input type="file" id="mapFileInput" accept="image/*" style="display: none" />
        <div id="ChangeMapPreview">
          <button onclick="document.getElementById('mapFileInput').click()">
            Change Map
          </button>
        </div>

        <!-- Add the Hide Map Preview checkbox -->
        <div id="custom-checkbox" class="checkbox-wrapper-59">
          <label class="switch">
            <input type="checkbox" id="hidePreviewCheckbox" />
            <span class="slider"></span>
          </label>
          <label for="hidePreviewCheckbox">Hide Map Preview</label>
        </div>
      </div>

      <div class="control-right">
        <h5>Game Settings</h5>

        <!-- Action Buttons -->
        <div class="action-buttons">
          <button id="resetButton">Reset All</button>
          <button id="undoButton">Undo</button>
        </div>

        <div id="startPlayerWrapper" class="hidden"><label for="startingPlayerSelect">Start:</label> <select
            id="startingPlayerSelect">
            <option value="player1">Player 1</option>
            <option value="player2">Player 2</option>
          </select></div>

        <div class="name-inputs hidden">
          <div class="name-field">
            <label for="player1NameInput">Player 1 Name:</label>
            <input type="text" id="player1NameInput" placeholder="Player 1" />
          </div>
          <div class="name-field">
            <label for="player2NameInput">Player 2 Name:</label>
            <input type="text" id="player2NameInput" placeholder="Player 2" />
          </div>
        </div>

        <button id="advancedToggle">Advanced Mode</button>
      </div>
    </div>
  </div>
  <!-- Footer Section -->
  <div class="footer">
    <a href="https://www.twitch.tv/zystem" target="_blank">
      <img src="img/logo_footer.webp" alt="Zystem Logo" class="footer-logo" />
    </a>

    <p>ï¸±Version 0.5.7040</p>

    <!-- Version number here -->
  </div>

  <script type="module" src="./src/js/modules/veto.js"></script>
</body>

</html>